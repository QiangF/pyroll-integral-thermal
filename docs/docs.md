---
title: The PyRoll Integral Thermal Plugin  
author: Max Weiner  
date: 16.03.2022
---

## Model approach

The following is taken from [[^HenselPoluchin1990]].

The thermal model implemented here is a simple approach estimating the temperature changes during a whole roll pass or
transport, without local resolution. Roll passes and transports differ in the main contributions to temperature change
and the geometry of the workpiece.

[^HenselPoluchin1990]: A. Hensel, P. I. Poluchin, W. P. Poluchin: Technologie der Metallformung. Deutscher Verlag f√ºr Grundstoffindustrie, Leipzig, 1990


### Transports

The cross-section of the workpiece can be assumed as constant over the whole length of the transport. The main
contributions to temperature change are here due to convection $\Delta T_\mathrm{K}$ and to radiation $\Delta T_
{\mathrm{R}}$. Additionally one may apply some water cooling in the transport, e.g. for modelling a cooling range.

$$ \Delta T = \Delta T_{\mathrm{K}} + \Delta T_{\mathrm{W}} + \Delta T_{\mathrm{R}} $$

#### Convection

Convection heat transfer is modelled using a simple heat transfer coefficient model as shown below. $\alpha_
{\mathrm{K}}$ is hereby the transfer coefficient $\alpha_{\mathrm{K}}$, $T_\infty$ the environment temperature, $t$ the
time, $u_\mathrm{P}$ the circumference of the profile cross-section, $A_\mathrm{P}$ the cross-section area, $\rho$ the
density and $c_\mathrm{p}$ the heat capacity. For $\alpha_{\mathrm{K}}$ a value around $15\,\mathrm{\frac{W}{m^2 K}}$
can be assumed.

$$ \Delta T_{\mathrm{K}} = \frac{\alpha_{\mathrm{K}} u_\mathrm{P} \left( T - T_\infty \right) t}{\rho c_\mathrm{p} A_
\mathrm{P}} $$

#### Water cooling

The approach for water cooling is generally equivalent to convection. It is also modelled using a transfer coefficient
model, but here with the temperature of the water $T_\mathrm{W}$ instead of $T_\infty$. Typical values of the transfer
coefficient $\alpha_{\mathrm{W}}$ reside around $150\,\mathrm{\frac{W}{m^2 K}}$.

$$ \Delta T_{\mathrm{W}} = \frac{\alpha_{\mathrm{W}} u_\mathrm{P} \left( T - T_\mathrm{W} \right) t}{\rho c_\mathrm{p}
A_\mathrm{P}} $$

#### Radiation

Radiation is modelled using the Stefan Boltzmann approach of the grey radiator. $\sigma_\mathrm{B}$ is the Stefan
Boltzmann radiation constant, $\varepsilon_\mathrm{R}$ the relative radiation coefficient of the grey radiator in the
range between $0$ (white radiator) and $1$ (black radiator). Values of $\varepsilon_\mathrm{R}$ can be obtained from
most volumes of plates. $\sigma_\mathrm{B}$ is $5.670374419\ldots \times 10^{-8} \,\mathrm{\frac{W}{m^2K^4}}$.

$$ \Delta T_{\mathrm{R}} = \frac{\sigma_\mathrm{B} \varepsilon_\mathrm{R} u_\mathrm{P} \left( T^4 - T^4_\infty \right) t
}{\rho c_\mathrm{p} A_\mathrm{P}} $$

### Roll passes

In roll passes the main contributions to temperature change are due to roll contact $\Delta T_{\mathrm{C}}$ and due to
deformation heat $\Delta T_{\mathrm{D}}$ as shown below. Convection and radiation at the free surfaces are neglected,
since they are comparably small. The geometry in the pass is quite complicated, so it must be approximated.

$$ \Delta T = \Delta T_{\mathrm{C}} + \Delta T_{\mathrm{D}} $$

#### Roll Contact

Roll contact heat transfer is modelled accordingly by a heat transfer coefficient model. $A_\mathrm{d}$ is the contact
area between workpiece and roll, $V$ the volume of workpiece within the roll gap and $T_\mathrm{R}$ the temperature of
the rolls. $V$ is hereby approximated by $V = L_{\mathrm{d}} \left( A_{\mathrm{P}0} + A_{\mathrm{P}1} \right) / 2$,
where the $A_{\mathrm{P}i}$ are the cross-sections of incoming resp. outgoing profile. The value of $\alpha_
{\mathrm{C}}$ is typically in the range between $2000$ and $6000\,\mathrm{\frac{W}{m^2 K}}$. Influences of cooling water
and lubricants can be included within this factor.

$$ \Delta T_{\mathrm{C}} = 2 \frac{\alpha_{\mathrm{C}} A_\mathrm{d} \left( T - T_\mathrm{R} \right) t}{\rho c_\mathrm{p}
V} $$

#### Deformation Heat

The heat generated by deformation can be estimated using the flow stress $k_\mathrm{f}$ and the equivalent strain
applied in the pass $\Delta\varphi_\mathrm{V}$. An efficiency factor of $\eta$ is included to take energy saved in
microstructure into account. $\eta=1$ means that all forming energy is dissipated as heat, $\eta=0$, however, that all
energy is saved in microstructure. $\eta = 0.95$ is a common value. Instead of $k_\mathrm{f}$ the deformation resistance
$k_\mathrm{W}$ can be used to include effects of friction and inhomogeneity.

$$ \Delta T_{\mathrm{D}} = \eta \frac{k_\mathrm{f} \Delta\varphi_\mathrm{V}}{\rho c_\mathrm{p}} $$

## Usage instructions and implementation details

The model specifies and implements several hooks for the terms and values mentioned above. These are explained in the
following. Most of them have default implementations, provide your own or set constant attributes on the objects to
override their behavior.

For using the plugin you *must* implement the following hooks or set constant attributes:

- [`Profile.density`](#profiles)
- [`Profile.thermal_capacity`](#profiles)

Often you will modify the following hooks by own implementations or constant attributes:

- [`Transport.environment_temperature`](#transportenvironment_temperature)
- [`Transport.cooling_water_temperature`](#transportcooling_water_temperature)
- [`Transport.convection_heat_transfer_coefficient`](#transportconvection_heat_transfer_coefficient)
- [`Transport.cooling_heat_transfer_coefficient`](#transportcooling_heat_transfer_coefficient)
- [`Transport.relative_radiation_coefficient`](#transportrelative_radiation_coefficient)
- [`RollPass.roll_temperature`](#rollpassroll_temperature)
- [`RollPass.contact_heat_transfer_coefficient`](#rollpasscontact_heat_transfer_coefficient)

### Transports

#### `Transport.environment_temperature`

The temperature of the environmental atmosphere $T_\infty$ for [convection](#convection) and [radiation](#radiation).
The default implementation returns $293.15\,\mathrm{K}$.

#### `Transport.cooling_water_temperature`

The temperature of cooling water $T_\mathrm{W}$ for [water cooling](#water-cooling). There is no default implementation,
meaning that

#### `Transport.convection_heat_transfer_coefficient`

The transfer coefficient for [convection](#convection) $\alpha_{\mathrm{K}}$. The default implementation returns
$15\,\mathrm{\frac{W}{m^2 K}}$.

#### `Transport.cooling_heat_transfer_coefficient`

The transfer coefficient for [water cooling](#water-cooling) $\alpha_{\mathrm{W}}$. The default implementation returns
$150\,\mathrm{\frac{W}{m^2 K}}$.

#### `Transport.relative_radiation_coefficient`

The relative radiation coefficient for [cooling by radiation](#radiation) $\varepsilon_{\mathrm{R}}$. The default
implementation returns $0.8$.

#### `Transport.temperature_change_by_convection`

The temperature change of the profile due to convection. The default implementation follows the term
in [described above](#convection). It returns $0$ if the `environment_temperature` hook returns `None`.

#### `Transport.temperature_change_by_cooling`

The temperature change of the profile due to water cooling. The default implementation follows the term
in [described above](#water-cooling). It returns $0$ if the `cooling_water_temperature` hook returns `None`.

#### `Transport.temperature_change_by_radiation`

The temperature change of the profile due to radiation. The default implementation follows the term
in [described above](#radiation). It returns $0$ if the `environment_temperature` hook returns `None`.

#### `Transport.temperature_change`

This hook represents the total temperature change $\Delta T$. Per default it returns the sum
of `temperature_change_by_convection`, `temperature_change_by_cooling` and `temperature_change_by_radiation`.

#### `TransportOutProfile.temperature`

This hooks represents the temperature of the outgoing profile. Per default it returns the sum
of `transport.in_profile.temperature` and `transport.temperature_change`.

### Roll Passes

#### `RollPass.roll_temperature`

The temperature of the working rolls $T_\mathrm{R}$ for [roll contact heat transfer](#roll-contact). The default
implementation returns $293.15\,\mathrm{K}$.

#### `RollPass.deformation_heat_efficiency`

The efficiency of [heat generation by deformation](#deformation-heat) $\eta$. The default implementation returns $0.95$.

#### `RollPass.contact_heat_transfer_coefficient`

The transfer coefficient for [roll contact heat transfer](#roll-contact) $\alpha_{\mathrm{C}}$. The default
implementation returns $6000\,\mathrm{\frac{W}{m^2 K}}$.

#### `RollPass.temperature_change_by_contact`

The temperature change of the profile due to roll contact within the roll gap. The default implementation follows the
term in [described above](#roll-contact). It returns $0$ if the `roll_temperature` hook returns `None`.

#### `RollPass.temperature_change_by_deformation`

The temperature change of the profile due to deformation within the roll gap. The default implementation follows the
term in [described above](#deformation-heat). If the roll pass provides a `deformation_resistance` ($k_\mathrm{W}$)
attribute or hook, this value is used, otherwise `mean_flow_stress` ($k_\mathrm{f}$).

#### `RollPass.temperature_change`

This hook represents the total temperature change $\Delta T$. Per default it returns the sum
of `temperature_change_by_contact` and `temperature_change_by_deformation`.

#### `RollPassOutProfile.temperature`

This hooks represents the temperature of the outgoing profile. Per default it returns the sum
of `roll_pass.in_profile.temperature` and `roll_pass.temperature_change`.

### Profiles

The plugin specifies two hooks on `Profile` meant for material data: `density` and `thermal_capacity`. The default
implementations throw solely errors, so you have to provide your own, or at least to define constant attributes on the
initial profile instance.

### Report

The plugin extends the HTML report with implementations of `pass_properties` and `transport_properties` adding the
distinct temperature changes. A `sequence_plot` is also implemented showing the temperature progression along the pass
sequence.


### Export

The plugin extends the report with implementations of `columns` adding the `unit.in_proile.temperature` and `unit.out_proile.temperature`.